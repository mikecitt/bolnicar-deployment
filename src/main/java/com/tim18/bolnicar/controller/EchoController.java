package com.tim18.bolnicar.controller;

import org.apache.coyote.Response;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RestController;

import java.time.LocalTime;
import java.util.HashMap;

@RestController
@CrossOrigin
public class EchoController {

    @GetMapping("/echo")
    public ResponseEntity<HashMap<String, String>> echo() {
        HashMap<String, String> response = new HashMap<>();

        LocalTime time = LocalTime.now();
        response.put("time", time.toString());
        response.put("message", "data:image/jpeg;base64,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");

        return new ResponseEntity<>(response, HttpStatus.OK);
    }

    @GetMapping("/echoPatient")
    @PreAuthorize("hasRole('PATIENT')")
    public ResponseEntity<String> echoPatient() {
        return ResponseEntity.ok("hie patient!");
    }
}
